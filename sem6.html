<!DOCTYPE html>
<html>
  <title>Academic page</title>
  <head>
    <link rel="stylesheet" href="./sem6.css" />
  </head>

  <body>
    <nav class="navbar">
      <div class="logo">
        <img src="college logo.jpg" width="100px;" />
        <div class="title">
          <h3>Zen Stud- A Student Portal</h3>
        </div>
      </div>
      <div class="links">
        <p class="profile-link"><a href="">Profile</a></p>
        <p class="link"><a href="adminlogin.html">Logout</a></p>
      </div>
    </nav>

    <div class="container">
      <div class="sidebar">
        <a href="academic.html"><button>Semester 1</button></a>
        <a href="sem2.html"><button>Semester 2</button></a>
        <a href="sem3.html"><button>Semester 3</button></a>
        <a href="sem4.html"><button>Semester 4</button></a>
        <a href="sem5.html"><button>Semester 5</button></a>
        <a href="sem6.html"><button class="active">Semester 6</button></a>
        <a href="sem7.html"><button>Semester 7</button></a>
        <a href="sem8.html"><button>Semester 8</button></a>
      </div>

      <a href="studentfrontpage.html" class="back">back</a>

      <div class="contents">
        <form>
          <table>
            <tr>
              <td>Name:</td>
              <td>
                <input type="text" id="name" disabled />
              </td>
            </tr>
            <tr>
              <td>Register number:</td>
              <td>
                <input type="text" id="reg_no" disabled />
              </td>
            </tr>
            <tr>
              <td>CGPA:</td>
              <td>
                <input type="text" id="cgpa" disabled />
              </td>
            </tr>
            <tr>
              <td>Number of backlogs:</td>
              <td>
                <input type="number" id="backlogs" disabled />
              </td>
            </tr>
            <tr>
              <td>Current backlog:</td>
              <td>
                <input type="number" id="current_backlog" disabled />
              </td>
            </tr>
            <tr>
              <td>Marksheet:</td>
              <td>
                <input
                  type="file"
                  id="marksheet"
                  accept=".pdf,.doc,.docx"
                  onchange="handleFileUpload()"
                />
              </td>
            </tr>
            <tr>
              <td>Date of clearance of backlogs:</td>
              <td>
                <input type="text" id="date_of_clearance_of_backlog" disabled />
              </td>
            </tr>
          </table>

          <div class="footer">
            <button type="button" id="editButton" onclick="enableEdit()">
              Edit
            </button>
            <button type="submit" id="reqButton" disabled>
              Request Change
            </button>
            <button type="button" id="discardButton" disabled>Discard</button>
          </div>
          <div id="fileUploadDisplay" class="file-upload-display"></div>
        </form>
      </div>
    </div>

    <script>
      let uploadedFileName = "";

      function enableEdit() {
        document.getElementById("marksheet").disabled = false;

        document.getElementById("editButton").disabled = true;
        document.getElementById("reqButton").disabled = false;
        document.getElementById("discardButton").disabled = false;
      }

      function handleFileUpload() {
        const fileInput = document.getElementById("marksheet");
        const fileUploadDisplay = document.getElementById("fileUploadDisplay");

        if (fileInput.files.length > 0) {
          uploadedFileName = fileInput.files[0].name;
          fileUploadDisplay.innerHTML = `
                    <span>File uploaded: ${uploadedFileName}</span>
                    <span class="close-button" onclick="removeFile()">&times;</span>
                `;
        }
      }

      function removeFile() {
        const fileInput = document.getElementById("marksheet");
        const fileUploadDisplay = document.getElementById("fileUploadDisplay");

        fileInput.value = "";
        uploadedFileName = "";
        fileUploadDisplay.innerHTML = "";
        alert("File removed.");
      }
    </script>
  </body>
</html>
